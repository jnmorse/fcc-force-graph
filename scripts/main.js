"use strict";var width=900,height=900,countryJson="https://raw.githubusercontent.com/DealPete/forceDirected/master/countries.json";d3.json(countryJson,function(t,e){if(t)return console.error("Could not load data");console.log(e);var r=d3.select(".chart").append("svg").attr("width",600).attr("height",600).attr("viewBox","0,0,"+width+","+height),n=d3.layout.force().size([width,height]).charge(-120).linkDistance(64);n.nodes(e.nodes).links(e.links).start();var a=r.selectAll(".link").data(e.links).enter().append("line").attr("class","link").style("stroke","black").style("stroke-width",function(t){return Math.sqrt(t.value)}),o=r.selectAll(".node").data(e.nodes).enter().append("image").attr("class","node").attr("href",function(t){return"images/"+t.code.toUpperCase()+".png"}).attr("width",32).attr("height",32).call(n.drag);n.on("tick",function(){a.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),o.attr("x",function(t){return t.x-16}).attr("y",function(t){return t.y-16})})});